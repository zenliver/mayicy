define("zz/ui/Mask",["zz/core/Class","zz/utils/types","zz/utils/asserts","zz/utils/objs","jquery/jquery/1.7.2/jquery","zz/ui/base/Panel","http://www.mayicy.cn/Public/kuaiyin/static/js/dist/zz/ui/jquery.tmpl","zz/plugins/actionMap"],function(a){"use strict";var b=a("zz/core/Class"),c=a("jquery/jquery/1.7.2/jquery"),d=a("zz/ui/base/Panel"),e=b(d).attr({DEFAULT_OPTS:{color:"#000",opacity:.7,zIndex:1e4,isAnim:!1,animTime:200,closeToDispose:!0,width:"autoSize",height:"autoSize",left:0,top:0}}).init(function(a){this.superInit(a),this._create()}).method({_create:function(){var a;return a=this.$target=c('<div class="ui-mask"></div>'),a.css({width:"autoSize"===this._opts.width?c(document).width():this._opts.width,height:"autoSize"===this._opts.height?c(document).height():this._opts.height,position:"fixed",overflow:"hidden",left:this._opts.left,top:this._opts.top,backgroundColor:this._opts.color,zIndex:this._opts.zIndex,opacity:this._opts.opacity}),a[0].style.filter="alpha(opacity="+100*this._opts.opacity+")",c.browser.msie&&6==c.browser.version&&a.css("position","absolute").html('<iframe style="position:absolute;top:0;left:0;width:100%;height:100%;z-index=-1;filter:alpha(opacity=0);"></iframe>'),this.triggerState("CREATE"),this},open:function(){return this.$target||this._create(),this._opts.isAnim?this.$target.appendTo(document.body).show().css("opacity",0).animate({opacity:this._opts.opacity},this._opts.animTime,function(){this._bindEvent(),this.triggerState("OPEN")}.bind(this)):(this.$target.hide().appendTo(document.body).show(),this._bindEvent(),this.triggerState("OPEN")),this},close:function(){return this._opts.isAnim?this.$target.animate({opacity:0},this._opts.animTime,function(){this.superMethod("close")}.bind(this)):this.superMethod("close"),this},_bindEvent:function(){var a=this,b=function(){"autoSize"===a._opts.width&&a.$target.width(c(document).width()-a._opts.left),"autoSize"===a._opts.height&&a.$target.height(c(document).height()-a._opts.top)};return c(window).on("resize.mask"+this.getID(),b),this},_unBindEvent:function(){return c(window).off("resize.mask"+this.getID()),this}});return e});